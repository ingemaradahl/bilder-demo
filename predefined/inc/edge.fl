pixelwise Color edge(Image img, Float x, Float y)
{
	Color grayscale(Color in)
    {
      	return Vec4(Vec3(dot(Vec3(0.222, 0.707, 0.071), in.rgb)), in.a);
    };
  
  	Color sum = (img(x-1.0,y) + img(x,y-1.0) + img(x+1.0,y) + img(x,y+1.0)) - (4.0 * img(x,y));
  
	return grayscale(Color(sum.rgb, 1.0));
}

